<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Harman Singh" >

    <title>KPSMART - Mail Delivery System</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/static/css/bootstrap.min.css" type="text/css">

    <!-- Custom Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/static/font-awesome/css/font-awesome.min.css" type="text/css">

    <!-- Plugin CSS -->
    <link rel="stylesheet" href="/static/css/animate.min.css" type="text/css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/creative.css" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top">

    <nav id="mainNav" class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">Start Bootstrap</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a class="page-scroll" href="#services">Services</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#stats">Statistics</a>
                    </li>
                    <li>
 	                   <a class="btn dropdown-toggle" type="button" data-toggle="dropdown" id="login-dropdown">Manager<span class="caret"></span></a>
                    		
                    		<div class="dropdown-menu" aria-labelledby="dropdownMenu1">
										<ul>
											<li><a class="dropdown-item" href="#"> Login </a></li>
											<li><a class="dropdown-item" href="#">Logout</a></li>
										</ul>									
								</div>                  		
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <header>
        <div class="header-content">
            <div class="header-content-inner">
                <h1>KPSmart - Kelburn Mail Delivery</h1>
                <hr>
                <p>Here is the update price stuff</p>
                <a href="#services" class="btn btn-primary btn-xl page-scroll">Services</a>
            </div>
        </div>
    </header>
<!--
    <section class="bg-primary" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <h2 class="section-heading">We've got what you need!</h2>
                    <hr class="light">
                    <p class="text-faded">Start Bootstrap has everything you need to get your new website up and running in no time! All of the templates and themes on Start Bootstrap are open source, free to download, and easy to use. No strings attached!</p>
                    <a href="#services" class="page-scroll btn btn-default btn-xl">Get Started!</a>
                </div>
            </div>
        </div>
    </section>
-->

<!-- PRICE UPDATE STUFF IS HERE -->

    <section id="priceUpdate">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Update Customer Price</h2>
                    <hr class="primary">
                    {% if error %}
                        {% for row in error -%}
                            <p style='color: red'> {{ row }} </p>
                        {% endfor %}
                    {% endif %}
                </div>
            </div> {# https://twitter.github.io/typeahead.js/ #}
        </div>
        <div class="container">
            <div class="row">  <!-- action="/t" method="post" -->
                <form name="priceUpdate" method="post" action="/price">
                    <div class="form-group">
                        <label for="SourceLocation">Origin</label>
                        <input name="ori" type="text" list="origSuggest" class="form-control" id="SourceLocation" placeholder="Origin">
                        {% if locations %}
                        <datalist id="origSuggest">
                            {% for row in locations -%}
                                <option value= "{{ row.name }}">
                            {% endfor %}
                        </datalist>
                        {% endif %}
                        <label for="DestLocation">Destination</label>
                        <input name="dest" type="text" list="destSuggest" class="form-control" id="DestLocation" placeholder="Destination" >
                        <datalist id="destSuggest">
                        {% if locations %}
                            {% for row in locations -%}
                                <option value= "{{ row.name }}">
                            {% endfor %}
                        </datalist>
                        {% endif %}
                    <label>Priority</label>
                    <div class="radio">
                        <label>
                            <input type="radio" name="pri" id="intAir" value="intAir" checked>
                            Internation Air
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="pri" id="domAir" value="domAir">
                            Domestic Air
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="pri" id="intStd" value="intStd">
                            Interational Standard
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="pri" id="domStd" value="domStd">
                            Domestic Standard
                        </label>
                    </div>
                        <label>New Prices:</label>
                    <!-- <div class="form-group"> -->
                        <label for="WeightPrice">Weight</label>
                        <div class="input-group">
                            <div class="input-group-addon"> $ </div>
                            <input name="wgt" type="number" class="form-control" id="WeightPrice" placeholder="Weight" min='0'>
                        </div>
                        <label for="VolPrice">Volume</label>
                        <div class="input-group">
                            <div class="input-group-addon"> $ </div>
                            <input name="vol" type="number" class="form-control" id="VolPrice" placeholder="Volume" min='0'>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
        </div>
    </section>





    <!-- jQuery -->
    <script src="/static/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/static/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="/static/js/jquery.easing.min.js"></script>
    <script src="/static/js/jquery.fittext.js"></script>
    <script src="/static/js/wow.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="/static/js/creative.js"></script>

    <script type="text/javascript" language="JavaScript">
        var origin;
        var destination;
        $("#DestLocation").on('change', function(event){
            console.log(event.target.value);
            destination = event.target.value;
            request();
        });

        $("#SourceLocation").on('change', function(event){
            console.log(event.target.value);
            origin = event.target.value;
            request();
        });

        function request(){
            if (origin && destination){
                console.log('both')
                $.ajax({
                    type: "POST",
                    url: '/price/getprice/' + origin + '/' + destination,
                    contentType: "application/json; charset=utf-8",
                    success: function(data){
                        // console.log(data);
                        $("#VolPrice").val(data.volumecost);
                        $("#WeightPrice").val(data.weightcost);
                    },
                    error: function(){
                        console.log('problems getting price')
                    }
                });
            }
        }

    </script>

</body>

</html>
