<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="/static/img/apple-icon.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>KPSmart Delivery</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />


    <!-- Bootstrap core CSS     -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Animation library for notifications   -->
    <link href="/static/css/animate.min.css" rel="stylesheet"/>

    <!--  Paper Dashboard core CSS    -->
    <link href="/static/css/paper-dashboard.css" rel="stylesheet"/>

    <!--  CSS for Datatables  -->
    <link rel="stylesheet" type="text/css" href="/static/css/datatables.min.css"/>

    <!--  CSS for Demo Purpose, don't include it in your project     -->
    <link href="/static/css/style.css" rel="stylesheet" />


    <!--  Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>
    <link href="/static/css/themify-icons.css" rel="stylesheet">

</head>
<body>
<div class="wrapper">
    {% include "includes/sidebar.html" %}

    <div class="main-panel">
        {% include "includes/navbar.html" %}
        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="content">
                                <div class="header">
                                    <h4 class="title">Log Information</h4>
                                </div>
                                <div class="content">
                                    <p>Action:
                                        {% for action in events.action %}
                                        {{action | capitalize}}
                                        {% endfor %}
                                    </p>
                                    <p>Type:
                                        {% for type in events.type %}
                                        {{type | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% for data in events.data %}
                                    {% if data.name %}
                                    <p>Name:
                                        {% for name in data.name %}
                                        {{name | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.isInternational %}
                                    <p>Delivery Type:
                                        {% for isInternational in data.isInternational %}
                                        {% if isInternational == 1 %}
                                        International
                                        {% else %}
                                        Domestic
                                        {% endif %}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.to %}
                                    <p>To:
                                        {% for to in data.to %}
                                        {{to | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.from %}
                                    <p>From:
                                        {% for from in data.from %}
                                        {{from | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.priority %}
                                    <p>Priority:
                                        {% for priority in data.priority %}
                                        {{priority | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.transport %}
                                    <p>Transport method:
                                        {% for transport in data.transport %}
                                        {{transport | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.routeid %}
                                    <p>Route ID:
                                        {% for routeid in data.routeid %}
                                        {{routeid | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}
                                    {% if data.originName %}
                                    <p>Origin:
                                        {% for originName in data.originName %}
                                            {{originName | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% else %}
                                        {% if data.origin %}
                                        <p>Origin:
                                            {% for origin in data.origin %}
                                            {{origin | capitalize}}
                                            {% endfor %}
                                        </p>
                                        {% endif %}
                                    {% endif %}

                                    {% if data.destinationName %}
                                    <p>Destination:
                                        {% for destinationName in data.destinationName %}
                                        {{destinationName | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% else %}
                                        {% if data.destination %}
                                        <p>Destination:
                                            {% for destination in data.destination %}
                                            {{destination | capitalize}}
                                            {% endfor %}
                                        </p>
                                        {% endif %}
                                    {% endif %}

                                    {% if data.companyName %}
                                    <p>Company:
                                        {% for companyName in data.companyName%}
                                        {{companyName | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% else %}
                                        {% if data.company %}
                                        <p>Company:
                                            {% for company in data.company%}
                                            {{company | capitalize}}
                                            {% endfor %}
                                        </p>
                                        {% endif %}
                                    {% endif %}

                                    {% if data.weightcost %}
                                    <p>Weight Cost:
                                        {% for weightcost in data.weightcost %}
                                        ${{weightcost | round}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.volumecost %}
                                    <p>Volume Cost:
                                        {% for volumecost in data.volumecost %}
                                        ${{volumecost | round}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.maxweight %}
                                    <p>Max Weight:
                                        {% for maxweight in data.maxweight %}
                                        {{maxweight | round}} grams
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.maxvolume %}
                                    <p>Max Volume:
                                        {% for maxvolume in data.maxvolume %}
                                        {{maxvolume | round}} cm<sup>3</sup>
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.frequency %}
                                    <p>Frequency:
                                        {% for frequency in data.frequency %}
                                        {{frequency | round}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.duration %}
                                    <p>Duration:
                                        {% for duration in data.duration %}
                                        {{duration | round}} hours
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.day %}
                                    <p>Day:
                                        {% for day in data.day %}
                                        {{day | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.mailid %}
                                    <p>Mail ID:
                                        {% for mailid in data.mailid %}
                                        {{mailid | capitalize}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.weight %}
                                    <p>Weight:
                                        {% for weight in data.weight %}
                                        {{weight | round}} grams
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.volume %}
                                    <p>Volume:
                                        {% for volume in data.volume %}
                                        {{volume | round}} cm<sup>3</sup>
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.totalcustomercost %}
                                    <p>Total Customer Cost:
                                        {% for totalcustomercost in data.totalcustomercost %}
                                        ${{totalcustomercost | round}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}

                                    {% if data.totalbusinesscost %}
                                    <p>Total Business Cost:
                                        {% for totalbusinesscost in data.totalbusinesscost %}
                                        ${{totalbusinesscost | round}}
                                        {% endfor %}
                                    </p>
                                    {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="content">
                                <div class="header">
                                    <h4 class="title">Business Figures</h4>
                                </div>
                                <div class="content">
                                    <p>Total Revenue: ${{customercost | round}}</p>
                                    <p>Total Expenditure: ${{businesscost | round}}</p>
                                    <p>Total Number of Events Processed: {{index}}</p>
                                    {% if mails %}
                                    <p>Amount of Mail from {{ori | capitalize}} to {{dest | capitalize}}: </p>
                                    <table id="example-table" class="table table-striped table-responsive hover">
                                        <thead>
                                        <tr>
                                            <th>Total Weight</th>
                                            <th>Total Volume</th>
                                            <th>Total Items</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>{{totalWeight | round}} grams</td>
                                            <td>{{totalVolume | round}} cm<sup>3</sup></td>
                                            <td>{{totalItems}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <p>Average Delivery Time: {{avgDelivery | round}} hours</p>
                                    <p>Critical Routes: </p>
                                    {% if criticalRoutes %}
                                        {% for ori, criticalRoutes in criticalRoutes[orgin] %}
                                        <li>{{ ori }}: {{ criticalRoutes[origin] }}</li>
                                        {% endfor %}
                                    {% endif %}
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="footer">
                        <hr />
                        <div class="stats">
                            <a href="/logFile"><i class="ti-arrow-left"></i> Back to log file</a>
                        </div></br>
                        <div class="stats">
                            <a href ="/logFile/{{index - 1}}"><i class="ti-arrow-left"></i> Previous log</a>
                        </div>
                        <div class="stats pull-right">
                            <a class="pull-right" href ="/logFile/{{index + 1}}">Next log <i class="ti-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>

<!--   Core JS Files   -->
<script src="/static/js/jquery-1.10.2.js" type="text/javascript"></script>
<script src="/static/js/bootstrap.min.js" type="text/javascript"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"></script>
<!--  Checkbox, Radio & Switch Plugins -->
<script src="/static/js/bootstrap-checkbox-radio.js"></script>

<!-- Datatables Plugin -->
<script type="text/javascript" src="/static/js/datatables.min.js"></script>
</html>